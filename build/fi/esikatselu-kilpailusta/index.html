<!DOCTYPE html>
<html lang="fi">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    <title></title>
    <link rel="icon" href="/common_images/logo100px.jpg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=New+Amsterdam&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
      integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
      crossorigin=""
    />
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script
      src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
      integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
      crossorigin=""
    ></script>
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>

    <link rel="stylesheet" href="/css/general.css" />
    <link rel="stylesheet" href="/css/header-menu.css" />
    <link rel="stylesheet" href="/css/race-page.css" />
    <link rel="stylesheet" href="/css/add-race-preview.css" />

    <script type="module" src="/js/commonFunctions.js"></script>
    <script type="module" src="/js/addRace.js"></script>
    <script type="module" src="/js/addRaceMap.js"></script>
    <script type="module" src="/js/racePageContent.js"></script>
    <script type="module" src="/js/racePagePreview.js"></script>
    <script type="module" src="/js/racePageMap.js"></script>
    <script type="module" src="/js/firebaseConfig.js"></script>
    <script type="module" src="/js/submitRace.js"></script>
  </head>
  <body>
    <!-- Page content -->
    <main> <section class="section-header-menu">
  <div class="upper-header">
    <a href="/" class="logo-container">
      <img class="logo-image" src="/common_images/logo100px.jpg" alt="logo"
    /></a>

    <a class="home-link" href="/">
      <h2 class="page-name new-amsterdam">juoksen</h2></a
    >
    <div class="login-container" id="login-container">
      <div class="login-wrapper">
        <ion-icon
          class="login-icon"
          name="person-circle-outline"
          title="Login"
          id="login-icon"
        ></ion-icon>
        <span id="loginText" class="user-display-name login-text">
          Kirjaudu sisään
        </span>
        <span id="currentUserDisplayName" class="user-display-name">
          
        </span>
      </div>
    </div>
  </div>
  <nav class="main-nav-container right-scroller">
    
    
    
    <a class="nav-container" href="/">
      <span class="nav-item">Kaikki</span>
    </a>
    
    
    
    <a class="nav-container" href="/juoksukalenteri"
      ><span class="nav-item">Juoksukalenteri</span></a
    >
    
    
    
    
    <a class="nav-container" href="/lisaa-kilpailu"
      ><span class="nav-item">Lisää kilpailu</span></a
    >
    
    
    
    
    <a class="nav-container" href="/foorumi"
      ><span class="nav-item">Foorumi</span></a
    >
    
    
    
    
    <a class="nav-container" href="/mittaa-kierroksesi"
      ><span class="nav-item">Mittaa kierroksesi</span></a
    >
    
    
    
    
    <a class="nav-container" href="/harjoitusohjelmat"
      ><span class="nav-item">Harjoitusohjelmat</span></a
    >
    
    
    
    
    <a class="nav-container" href="/vauhtimuunnin"
      ><span class="nav-item">Vauhtimuunnin</span></a
    >
    
    
    
    
    <a class="nav-container" href="/arvioi-rotuaikasi"
      ><span class="nav-item">Arvioi rotuaikasi</span></a
    >
    
    
    
    
    <a class="nav-container" href="/tietoa-meista"
      ><span class="nav-item">Tietoa meistä</span></a
    >
    
    
    
    
    <a class="nav-container" href="/ota-yhteytta"
      ><span class="nav-item">Ota yhteyttä</span></a
    >
    
    
    
    <a class="nav-container" href="/privacy"><span class="nav-item">Privacy</span></a>
  </nav>

  <!-- Login Modal -->
  <div class="auth-modal-container" style="display: none">
    <div class="auth-modal-backdrop"></div>
    <div class="auth-modal">
      <!-- Login Form -->
      <div id="loginForm" class="auth-form-container">
        <h2>Kirjaudu sisään</h2>
        <form id="authForm">
          <input
            type="email"
            id="loginEmail"
            placeholder="Sähköpostisi"
            required
          />
          <input
            type="password"
            id="loginPassword"
            placeholder="Salasana"
            required
          />
          <div class="error-container">
            <div id="loginError" class="error"></div>
            <a href="#" id="errorResetLink" class="error-reset-link" style="display: none;">
              Unohditko salasanan?
            </a>
            <a href="#" id="errorCreateLink" class="error-reset-link" style="display: none;">
              Luo tili sen sijaan
            </a>
          </div>
          <button type="submit">Kirjaudu sisään</button>
          <div class="auth-links">
            <button type="button" id="showCreateAccount" class="link-button">
              Luo tili
            </button>
            <button type="button" id="showResetPassword" class="link-button">
              Unohditko salasanan?
            </button>
          </div>
        </form>
      </div>

      <!-- Create Account Form -->
      <div
        id="createAccountForm"
        class="auth-form-container"
        style="display: none"
      >
        <h2>Luo tili</h2>
        <form id="signupForm">
          <input
            type="text"
            id="signupName"
            placeholder="Nimesi"
            required
          />
          <input
            type="email"
            id="signupEmail"
            placeholder="Sähköpostisi"
            required
          />
          <input
            type="password"
            id="signupPassword"
            placeholder="Salasana"
            required
          />
          <div class="error" id="signupError"></div>
          <button type="submit">Luo tili</button>
          <div class="auth-links">
            <button type="button" id="backToLogin" class="link-button">
              Takaisin kirjautumiseen
            </button>
          </div>
        </form>
      </div>

      <!-- Password Reset Form -->
      <div
        id="resetPasswordForm"
        class="auth-form-container"
        style="display: none"
      >
        <h2>Palauta salasana</h2>
        <form id="resetForm">
          <input
            type="email"
            id="resetEmail"
            placeholder="Sähköpostisi"
            required
          />
          <div class="error" id="resetError"></div>
          <button type="submit">Lähetä palautuslinkki</button>
          <div class="auth-links">
            <button type="button" id="backToLoginFromReset" class="link-button">
              Takaisin kirjautumiseen
            </button>
          </div>
        </form>
      </div>

      <!-- Logged In User Modal -->
      <div
        id="loggedInUserForm"
        class="auth-form-container"
        style="display: none"
      >
        <h2>Olet jo kirjautunut sisään käyttäjänä</h2>
        <div class="logged-in-user-info">
          <p><strong id="currentUserName"></strong></p>
          <p id="currentUserEmail"></p>
        </div>
        <div class="auth-buttons">
          <button type="button" id="continueAsUser" class="primary-button">
            Jatka tämän käyttäjänä
          </button>
          <button type="button" id="logoutAndSwitch" class="secondary-button">
            Kirjaudu ulos ja vaihda käyttäjää
          </button>
        </div>
      </div>

      <!-- Account Creation Success Message -->
      <div
        id="accountCreatedForm"
        class="auth-form-container"
        style="display: none"
      >
        <h2>Tili luotu!</h2>
        <div class="logged-in-user-info">
          <p>Olet nyt kirjautuneena sisään käyttäjänä</p>
          <p><strong id="newUserName"></strong></p>
          <p id="newUserEmail"></p>
          <p class="verification-notice">
            Vahvistuslinkki on lähetetty sähköpostiisi
          </p>
          <p class="verification-notice">Ole hyvä ja vahvista sähköpostiosoitteesi</p>
        </div>
        <button type="button" class="primary-button" id="successContinue">
          Jatka tämän käyttäjänä
        </button>
      </div>
    </div>
  </div>
</section>

      </div>
    </div>
  </div>
</section>
<div class="section-separator-top"></div>
<div class="section-preview-title">
  <h1>Näin kilpailusi tulee näyttämään</h1>
</div>

<!-- Dummy race data this will get populated with actual data from the database -->
   <section class="section-race-page">
  <div class="race-images">
    <div class="main-image background-container">
      <img
        id="race-main-image"
        src=""
        onerror="this.onerror=null; this.src='/images/hero_small.webp';"
        alt="Main race image"
        class="background-img-nofilter"
      />
      <div class="overlay soft"></div>
      <div class="race-card-content">
        <div class="race-info-top">
          <div id="race-date" class="race-date">1 tam.</div>
          <div id="race-location" class="race-location">Stockholms län</div>
        </div>
        <div class="race-info-bottom">
          <div id="race-type" class="race-type"></div>
          <div id="race-distances" class="race-distances">
            
          </div>
        </div>
      </div>
    </div>
    <div class="thumbnail-images" id="race-thumbnails">
      
    </div>
  </div>

  <h1 id="race-name" class="race-name">Exempel Loppet</h1>

  <div class="highlight-place-div">
    <ion-icon
      name="location-outline"
      role="img"
      aria-label="location outline"
    ></ion-icon>
    <p id="primary-highlight-race-location" class="highlight-place">
      
    </p>
  </div>

  <ul class="highlights-container">
    <div class="highlight-stars">
      <ion-icon name="star" role="img" aria-label="star"></ion-icon>
      <a id="race-website" href="https://www.exempellopp.se" target="_blank"
        >Linkki rekisteröitymiseen</a
      >
    </div>

    <li class="highlight-info">
      <ion-icon
        name="analytics-outline"
        role="img"
        aria-label="analytics outline"
      ></ion-icon>
      <p>
        <span>Etäisyydet:</span>
        <span id="highlight-race-distances">
          
        </span>
      </p>
    </li>

    <li class="highlight-info">
      <ion-icon
        name="shapes-outline"
        role="img"
        aria-label="shapes outline"
      ></ion-icon>
      <p>
        <span>Alustat:</span>
        <span id="highlight-race-type"></span>
      </p>
    </li>

    <li class="highlight-info">
      <ion-icon
        name="navigate-circle-outline"
        role="img"
        aria-label="navigate circle outline"
      ></ion-icon>
      <p>
        <span>Paikka:</span>
        <span id="highlight-race-location"></span>
      </p>
    </li>

    <li class="highlight-info">
      <ion-icon
        name="calendar-clear-outline"
        role="img"
        aria-label="calendar clear outline"
      ></ion-icon>
      <p>
        <span>Päivämäärä:</span>
        <span id="highlight-race-date">1 tam.</span>
      </p>
    </li>
  </ul>
  <div class="race-content-container">
    <div class="race-summary">
      <h2>Lähtökuvaus</h2>
      <!-- AI Disclaimer -->
      <div class="ai-disclaimer" >
        <p>
          Kaikki tiedot tällä sivulla perustuvat avoimeen lähdedataan. Teemme parhaamme pitääksemme sen ajan tasalla, mutta emme voi taata, että kaikki on oikein. Näetkö virheitä,
          <a href="/ota-meihin-yhteytta.html"
            >ota yhteyttä meihin</a
          >
          niin korjaamme sen mahdollisimman pian.
        </p>
      </div>
      <p id="race-summary">Detta är en exempelbeskrivning av
loppet. Här kan du lägga till mer information om loppets karaktär, bana och
andra intressanta detaljer.</p>
    </div>

    
    </div>
    <div class="race-forum-section">
      <h2>Kysymykset &amp; Vastaukset</h2>

      <!-- Forum posts container -->
      <div id="forum-posts" class="forum-posts">
         
        <div class="empty-state">Ei kysymyksiä vielä. Ole ensimmäinen, joka esittää kysymyksen!</div>
        
      </div>

      <!-- Input area -->
      <div class="forum-input-container" id="forum-input-container">
        <textarea
          id="forum-input"
          data-source=""
          placeholder="Esitä kysymys järjestäjälle..."
          rows="3"
          disabled
        ></textarea>

        <button
          id="forum-submit"
          class="primary-button"
          style="display: none;"
          
        >
          Lähetä kysymys
        </button>

        <div
          id="login-prompt"
          class="login-prompt"
          
        >
          Kirjaudu sisään kysyäksesi kysymyksen
        </div>
      </div>
    </div>
    <div class="race-auxiliary-info">
      <h2>Muu tieto</h2>
      <p id="race-additional">
        Här kan du lägga till
ytterligare information om loppet, som t.ex. startgrupper, tidtagning, eller
speciella regler.
      </p>
    </div>

    <div class="race-details">
      <h2>Yksityiskohtaiset tiedot</h2>
      <ul class="race-info-list">
         
        <li id="detail-race-name" style="display: list-item">
          <strong>Kilpailun nimi:</strong>
          
          <span>Exempel Loppet</span>
          
        </li>
              
        <li id="detail-race-organizer" style="display: list-item">
          <strong>Järjestäjä:</strong>
          
          <span>Exempel Löparklubb</span>
          
        </li>
          
        <li id="detail-race-organizer_contact" style="display: list-item">
          <strong>Sähköposti yhteyshenkilölle:</strong>
          
          <span>info@exempelloparklubb.se</span>
          
        </li>
          
        <li id="detail-race-price_range" style="display: list-item">
          <strong>Hinta-alue:</strong>
          
          <span>200-400 kr</span>
          
        </li>
          
        <li id="detail-race-website" style="display: list-item">
          <strong>Järjestäjän kotisivu:</strong>
          
          <a href="https://www.exempellopp.se" target="_blank" rel="noopener noreferrer"
            >https://www.exempellopp.se</a
          >
          
        </li>
          
        <li id="detail-race-start_time" style="display: list-item">
          <strong>Aloitusaika:</strong>
          
          <span>09:00</span>
          
        </li>
           
      </ul>
    </div>
    

    <div
      id="map-placeholder"
      data-latitude="59.3293"
      data-longitude="18.0686"
      data-zoom="6"
      class="race-map"
    ></div>
  </div>
  <div class="organizer-website-button-container">
    <a
      id="organizer-website-button"
      href="https://www.exempellopp.se"
      target="_blank"
      rel="noopener noreferrer"
      class="organizer-website-button"
    >
      Siirry järjestäjän sivulle &amp; ilmoittautumiseen
    </a>
  </div>
</section> 

<div class="section-separator-top"></div>
<section class="section-preview-actions">
  <div class="race-preview-actions">
    <button id="edit-race" class="btn-edit">Muokkaa</button>
    <button id="submit-race-button" class="btn-submit">
      Lähetä
    </button>
  </div>
</section>
</main>

    
  </body>
</html>