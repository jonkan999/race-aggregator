<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    <title>Neues Rennen hinzufügen</title>
    <meta
      name="description"
      content=""
    />
    <link rel="icon" href="/common_images/logo.svg" type="image/svg+xml" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=New+Amsterdam&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
      integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
      crossorigin=""
    />
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script
      src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
      integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
      crossorigin=""
    ></script>
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7076760775175370"
      crossorigin="anonymous"
    ></script>

    <link rel="stylesheet" href="/css/general.css" />
    <link rel="stylesheet" href="/css/header-menu.css" />
    <link rel="stylesheet" href="/css/add-race.css" />
    <link rel="stylesheet" href="/css/add-race-preview.css" />

    <script type="module" src="/js/commonFunctions.js"></script>
    <script type="module" src="/js/addRace.js"></script>
    <script type="module" src="/js/addRaceMap.js"></script>
    <script type="module" src="/js/firebaseConfig.js"></script>
    <script type="module" src="/js/submitRace.js"></script>
  </head>
  <body>
    <!-- Page content -->
    <main><section class="section-header-menu">
  <div class="upper-header">
    <a href="/" class="logo-container">
      <img class="logo-image" src="/common_images/logo100px.jpg" alt="logo"
    /></a>

    <a class="home-link" href="/">
      <h2 class="page-name new-amsterdam">laufrennen</h2></a
    >
    <div class="login-container" id="login-container">
      <div class="login-wrapper">
        <ion-icon
          class="login-icon"
          name="person-circle-outline"
          title="Login"
          id="login-icon"
        ></ion-icon>
        <span id="loginText" class="user-display-name login-text">
          Anmelden
        </span>
        <span id="currentUserDisplayName" class="user-display-name">
          
        </span>
      </div>
    </div>
  </div>
  <nav class="main-nav-container right-scroller">
    
    
    
    <a class="nav-container" href="/">
      <span class="nav-item">Alles</span>
    </a>
    
    
    
    <a class="nav-container" href="/laufkalender"
      ><span class="nav-item">Laufkalender</span></a
    >
    
    
    
    
    <a class="nav-container" href="/lauf-hinzufuegen"
      ><span class="nav-item">Lauf hinzufügen</span></a
    >
    
    
    
    
    <a class="nav-container" href="/forum"
      ><span class="nav-item">Forum</span></a
    >
    
    
    
    
    <a class="nav-container" href="/miss-deine-runde"
      ><span class="nav-item">Miss deine Runde</span></a
    >
    
    
    
    
    <a class="nav-container" href="/trainingsprogramme"
      ><span class="nav-item">Trainingsprogramme</span></a
    >
    
    
    
    
    <a class="nav-container" href="/geschwindigkeitsumrechner"
      ><span class="nav-item">Geschwindigkeitsumrechner</span></a
    >
    
    
    
    
    <a class="nav-container" href="/schaetze-deine-endzeit-ein"
      ><span class="nav-item">Schätze deine Endzeit ein</span></a
    >
    
    
    
    
    <a class="nav-container" href="/ueber-uns"
      ><span class="nav-item">Über uns</span></a
    >
    
    
    
    
    <a class="nav-container" href="/kontaktiere-uns"
      ><span class="nav-item">Kontaktiere uns</span></a
    >
    
    
    
    <a class="nav-container" href="/privacy"><span class="nav-item">Privacy</span></a>
  </nav>

  <!-- Login Modal -->
  <div class="auth-modal-container" style="display: none">
    <div class="auth-modal-backdrop"></div>
    <div class="auth-modal">
      <!-- Login Form -->
      <div id="loginForm" class="auth-form-container">
        <h2>Anmelden</h2>
        <form id="authForm">
          <input
            type="email"
            id="loginEmail"
            placeholder="Deine E-Mail"
            required
          />
          <input
            type="password"
            id="loginPassword"
            placeholder="Passwort"
            required
          />
          <div class="error-container">
            <div id="loginError" class="error"></div>
            <a href="#" id="errorResetLink" class="error-reset-link" style="display: none;">
              Hast du dein Passwort vergessen?
            </a>
            <a href="#" id="errorCreateLink" class="error-reset-link" style="display: none;">
              Konto erstellen statt
            </a>
          </div>
          <button type="submit">Anmelden</button>
          <div class="auth-links">
            <button type="button" id="showCreateAccount" class="link-button">
              Konto erstellen
            </button>
            <button type="button" id="showResetPassword" class="link-button">
              Hast du dein Passwort vergessen?
            </button>
          </div>
        </form>
      </div>

      <!-- Create Account Form -->
      <div
        id="createAccountForm"
        class="auth-form-container"
        style="display: none"
      >
        <h2>Konto erstellen</h2>
        <form id="signupForm">
          <input
            type="text"
            id="signupName"
            placeholder="Ihr Name"
            required
          />
          <input
            type="email"
            id="signupEmail"
            placeholder="Deine E-Mail"
            required
          />
          <input
            type="password"
            id="signupPassword"
            placeholder="Passwort"
            required
          />
          <div class="error" id="signupError"></div>
          <button type="submit">Konto erstellen</button>
          <div class="auth-links">
            <button type="button" id="backToLogin" class="link-button">
              Zurück zur Anmeldung
            </button>
          </div>
        </form>
      </div>

      <!-- Password Reset Form -->
      <div
        id="resetPasswordForm"
        class="auth-form-container"
        style="display: none"
      >
        <h2>Passwort zurücksetzen</h2>
        <form id="resetForm">
          <input
            type="email"
            id="resetEmail"
            placeholder="Deine E-Mail"
            required
          />
          <div class="error" id="resetError"></div>
          <button type="submit">Senden Sie den Wiederherstellungslink</button>
          <div class="auth-links">
            <button type="button" id="backToLoginFromReset" class="link-button">
              Zurück zur Anmeldung
            </button>
          </div>
        </form>
      </div>

      <!-- Logged In User Modal -->
      <div
        id="loggedInUserForm"
        class="auth-form-container"
        style="display: none"
      >
        <h2>Du bist bereits eingeloggt als</h2>
        <div class="logged-in-user-info">
          <p><strong id="currentUserName"></strong></p>
          <p id="currentUserEmail"></p>
        </div>
        <div class="auth-buttons">
          <button type="button" id="continueAsUser" class="primary-button">
            Fortfahren als dieser Benutzer
          </button>
          <button type="button" id="logoutAndSwitch" class="secondary-button">
            Abmelden und Benutzer wechseln
          </button>
        </div>
      </div>

      <!-- Account Creation Success Message -->
      <div
        id="accountCreatedForm"
        class="auth-form-container"
        style="display: none"
      >
        <h2>Konto erstellt!</h2>
        <div class="logged-in-user-info">
          <p>Du bist jetzt angemeldet als</p>
          <p><strong id="newUserName"></strong></p>
          <p id="newUserEmail"></p>
          <p class="verification-notice">
            Ein Verifizierungslink wurde an deine E-Mail-Adresse gesendet.
          </p>
          <p class="verification-notice">Bitte verifizieren Sie Ihre E-Mail-Adresse</p>
        </div>
        <button type="button" class="primary-button" id="successContinue">
          Fortfahren als dieser Benutzer
        </button>
      </div>
    </div>
  </div>
</section>

      </div>
    </div>
  </div>
</section>
<div class="section-separator-top"></div>
<section class="section-add-race">
  <h1 class="section-header">Neues Rennen hinzufügen</h1>

  <form id="add-race-form" enctype="multipart/form-data">
    <!-- Basic Race Information -->
    <div class="form-group">
      <label for="race-name">Laufname:</label>
      <input
        type="text"
        id="race-name"
        name="race-name"
        placeholder="z. B. rund um Kungsholmen"
        required
      />
    </div>

    <div class="form-group">
      <label for="race-type">Typ des Untergrunds / Art des Rennens</label>
      <select id="race-type" name="race-type" required>
        <option value="">Wählen Sie Untergrund / Art des Rennens</option>
        
        <option value="road">road</option>
        
        <option value="terrain">terrain</option>
        
        <option value="trail">trail</option>
        
        <option value="track">track</option>
        
        <option value="backyard">backyard</option>
        
        <option value="frontyard">frontyard</option>
        
        <option value="relay">relay</option>
        
        <option value="time">time</option>
        
        <option value="other">other</option>
        
      </select>
    </div>

    <!-- Date and Time -->
    <div class="form-group">
      <label for="race-date">Datum</label>
      <input type="date" id="race-date" name="race-date" required />
      <div class="multi-day-toggle">
        <label for="multi-day-toggle">Mehrtagelauf</label>
        <input type="checkbox" id="multi-day-toggle" name="multi-day-toggle" />
      </div>
      <div id="end-date-container" style="display: none">
        <label for="race-end-date">Enddatum</label>
        <input type="date" id="race-end-date" name="race-end-date" />
      </div>
    </div>

    <div class="form-group">
      <label for="race-start-time"
        >Startzeit:
        <span class="optional">(Optional)</span></label
      >
      <input
        type="time"
        id="race-start-time"
        name="race-start-time"
        placeholder="09:00"
        step="1"
        data-format="24h"
      />
    </div>

    <!-- Location -->
    <div class="form-group map-container">
      <label>Platziere dein Rennen, indem du auf die Karte klickst</label>
      <div
        id="map-placeholder"
        data-latitude="52.5068441"
        data-longitude="13.4247318"
        data-zoom="6"
      >
        <!-- Map will be inserted here -->
      </div>
      <input type="hidden" id="latitude" name="latitude" />
      <input type="hidden" id="longitude" name="longitude" />
      <div id="coordinates-display"></div>
    </div>

    <div class="form-group">
      <label for="race-location">Name des Ortes, an dem das Rennen veranstaltet wird:</label>
      <input
        type="text"
        id="race-location"
        name="race-location"
        placeholder="z. B. Rålambshovsparken, Stockholm"
        required
      />
    </div>

    <!-- Distances -->
    <div class="form-group">
      <label>Distanzen:</label>
      <div class="distance-input-container">
        <input
          type="number"
          id="distance-input"
          placeholder="Gib die Distanz in km an"
          min="0"
          step="0.1"
        />
        <button type="button" id="add-distance">
          Hinzufügen
        </button>
      </div>
      <div class="quick-distance-buttons">
        <button type="button" class="quick-distance" data-distance="21.1">
          Halbmarathon
        </button>
        <button type="button" class="quick-distance" data-distance="42.2">
          Marathon
        </button>
        <button type="button" class="quick-distance" data-distance="backyard">
          Hinterhof Ultra
        </button>
        <button type="button" class="quick-distance" data-distance="frontyard">
          Vorderhof Ultra
        </button>
        <button type="button" class="quick-distance" data-distance="80.5">
          50 Meilen
        </button>
        <button type="button" class="quick-distance" data-distance="160.9">
          100 Meilen
        </button>
      </div>
      <div id="distances-container"></div>
      <input type="hidden" id="race-distances" name="race-distances" />
    </div>

    <!-- Organizer Information -->
    <div class="form-group">
      <label for="race-organizer"
        >Arrangör:
        <span class="optional">(Optional)</span></label
      >
      <input
        type="text"
        id="race-organizer"
        name="race-organizer"
        placeholder="FK Studenterna"
      />
    </div>

    <div class="form-group">
      <label for="race-contact">Mail an die Kontaktperson:</label>
      <input
        type="email"
        id="race-contact"
        name="race-contact"
        placeholder="info@LaufKarten.de"
        required
      />
    </div>

    <div class="form-group">
      <label for="race-website"
        >Organisatorische Website:
        <span class="optional">(Optional)</span></label
      >
      <input
        type="url"
        id="race-website"
        name="race-website"
        placeholder="https://fkstudenterna.de/"
      />
    </div>

    <!-- Additional Details -->
    <div class="form-group">
      <label for="race-price-range"
        >Preisspanne:
        <span class="optional">(Optional)</span></label
      >
      <input
        type="text"
        id="race-price-range"
        name="race-price-range"
        placeholder="z.B. 200-500 €"
      />
    </div>

    <div class="form-group">
      <label for="race-summary">Beschreibe das Rennen</label>
      <textarea
        id="race-summary"
        name="race-summary"
        placeholder="KfS Kungsholmen Runt ist eine 10 km Strecke mit langen, flachen Geraden ..."
        required
      ></textarea>
    </div>

    <div class="form-group">
      <label for="race-additional"
        >Weitere notwendige Informationen
        <span class="optional">(Optional)</span></label
      >
      <textarea
        id="race-additional"
        name="race-additional"
        placeholder="z.B. Start und Ziel, Startgruppen usw."
      ></textarea>
    </div>

    <!-- Images -->
    <div class="form-group picture-upload-container">
      <label for="race-images">Bilder hochladen (Gerne mindestens 4)</label>
      <input
        type="file"
        id="race-images"
        class="picture-upload-input"
        multiple
        accept="image/*"
      />
      <label for="race-images" class="picture-upload-button"
        >Bilder auswählen</label
      >
    </div>

    <!-- Drag and Drop Image Upload -->
    <div id="fileUploadStatus"></div>
    <div class="image-container"></div>
    <button type="button" id="clearImagesButton">
      Bilder löschen
    </button>

    <!-- New Info Disclaimer -->
    <div class="info-disclaimer">
      <p>
        Möchten Sie noch etwas zu Ihrem Lauf hinzufügen?
        <a href="/kontaktiere-uns.html"
          >kontaktiere uns</a
        >
        So werden wir versuchen, zu helfen!
      </p>
    </div>

    <!-- Form Actions -->
    <div class="form-actions">
      <!--       <button type="button" id="preview-button">
        Vorschau auf das Rennen
      </button> -->
      <button type="button" id="submit-race-button">Einreichen</button>
    </div>
  </form>

  <button type="button" id="clear-form">Formular zurücksetzen</button>
</section>

</main>

    
  </body>
</html>